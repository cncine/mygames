data_a1e2fb4a_e986_4524_b0da_9b7ba7c0874d={main:{floorIds:["sample0"],images:["bg.jpg","light.png","g1.jpg","g2.jpg","g3.jpg","g4.jpg","g5.jpg","g6.jpg","g7.jpg","g8.jpg","g9.jpg","g10.jpg"],animates:["hand","sword","zone"],bgms:["sou_title_bgm.ogg","sou_bgm.ogg","sou_bgm_red.ogg","bgm_love105.mp3","bgm_cxs.mp3","bgm_fjzdjd.mp3"],sounds:["floor.mp3","attack.ogg","door.ogg","item.ogg","zone.ogg","sou_step.ogg","sou_downstairs.ogg","sou_jumpscare.ogg","sou_nm.ogg","sou_cave_1.ogg","sou_cave_2.ogg","sou_cave_3.ogg","sou_switch.ogg"],startBackground:"bg.jpg",startLogoStyle:"color: white",levelChoose:[["简单","Easy"],["普通","Normal"],["困难","Hard"],["噩梦","Hell"]]},firstData:{title:"无尽循环",name:"motaloop2022",version:"Ver 1.0.0",floorId:"sample0",hero:{name:"薛阳",lv:1,hpmax:9999,hp:1000,atk:100,def:100,mdef:100,money:100,experience:0,items:{keys:{yellowKey:0,blueKey:0,redKey:0},constants:{flashlight:1},tools:{}},flyRange:[],loc:{direction:"down",x:2,y:2},flags:{poison:false,weak:false,curse:false,flashlight:true,itemsList:{"-200":{num:994,id:"record_water"},"-500":{num:996,id:"record_white"},"-800":{num:995,id:"record_orange"},"-1000":{num:900,id:"spoils_1"},"-2000":{num:899,id:"spoils_2"},"-5000":{num:898,id:"spoils_3"}}},steps:0},startText:["以我的个性，我可能永远也回不去了。我好口渴啊，这里什么吃喝都没有。他去了哪里？","我叫薛阳，是一名刑警，这是我第一次执行任务。","2022年1月，我正追捕一个逃犯，他跑进了一栋废宅的楼梯道里，我也跟了进去。","我想他已经无路可逃了。这里真黑啊，还好我带了手电筒。"],shops:[{id:"moneyShop1",name:"贪婪之神",icon:"blueShop",textInList:"1F金币商店",use:"money",need:"20+10*times*(times+1)",text:"勇敢的武士啊，给我${need}金币就可以：",choices:[{text:"生命+800",effect:"status:hp+=800"},{text:"攻击+4",effect:"status:atk+=4"},{text:"防御+4",effect:"status:def+=4"},{text:"魔防+10",effect:"status:mdef+=10"}]},{id:"expShop1",name:"经验之神",icon:"pinkShop",textInList:"1F经验商店",use:"experience",need:"-1",text:"勇敢的武士啊，给我若干经验就可以：",choices:[{text:"等级+1",need:"100",effect:"status:lv+=1;status:hp+=1000;status:atk+=7;status:def+=7"},{text:"攻击+5",need:"30",effect:"status:atk+=5"},{text:"防御+5",need:"30",effect:"status:def+=5"}]}],levelUp:[{},{need:20,name:"第二级",effect:"status:hp+=2*(status:atk+status:def);status:atk+=10;status:def+=10"},{need:40,effect:'function () {\r\n\t\t\tcore.insertAction("恭喜升级！");\r\n\t\t\tcore.status.hero.hp *= 2;\r\n\t\t\tcore.status.hero.atk += 100;\r\n\t\t\tcore.status.hero.def += 100;\r\n\t\t}'}]},values:{lavaDamage:100,poisonDamage:10,weakValue:20,redJewel:3,blueJewel:3,greenJewel:5,redPotion:100,bluePotion:250,yellowPotion:500,greenPotion:800,sword0:0,shield0:0,sword1:10,shield1:10,sword2:20,shield2:20,sword3:40,shield3:40,sword4:80,shield4:80,sword5:160,shield5:160,moneyPocket:500,breakArmor:0.9,counterAttack:0.1,purify:3,hatred:2,animateSpeed:300},flags:{enableFloor:true,enableLv:false,enableHPMax:false,enableMDef:true,enableMoney:true,enableExperience:false,enableLevelUp:false,enableDebuff:false,flyNearStair:true,pickaxeFourDirections:false,bombFourDirections:false,bigKeyIsBox:false,equipment:false,enableDeleteItem:false,enableAddPoint:false,enableNegativeDamage:false,hatredDecrease:true,betweenAttackCeil:false,startDirectly:true,canOpenBattleAnimate:true,showBattleAnimateConfirm:false,battleAnimate:true,displayEnemyDamage:true,displayCritical:true,displayExtraDamage:true,enableGentleClick:true,potionWhileRouting:true,enableViewMaps:false,portalWithoutTrigger:true,enableMoveDirectly:false}};enemys_fcae963b_31c9_42b4_b48c_bb48d09f3f80={greenSlime:{name:"绿头怪",hp:100,atk:120,def:0,money:1,experience:1,point:0,special:[1,5,7,8]},redSlime:{name:"红头怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},blackSlime:{name:"青头怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},slimelord:{name:"怪王",hp:100,atk:120,def:0,money:10,experience:0,point:0,special:[1,9]},bat:{name:"小蝙蝠",hp:100,atk:120,def:0,money:2,experience:0,point:0,special:1},bigBat:{name:"大蝙蝠",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redBat:{name:"红蝙蝠",hp:100,atk:120,def:0,money:5,experience:0,point:0,special:4},vampire:{name:"冥灵魔王",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},skeleton:{name:"骷髅人",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},skeletonSoilder:{name:"骷髅士兵",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},skeletonCaptain:{name:"骷髅队长",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},ghostSkeleton:{name:"冥队长",hp:100,atk:120,def:0,money:8,experience:0,point:0,special:7},zombie:{name:"兽人",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},zombieKnight:{name:"兽人武士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},rock:{name:"石头人",hp:100,atk:120,def:0,money:4,experience:0,point:0,special:3},slimeMan:{name:"影子战士",hp:100,atk:0,def:0,money:11,experience:0,point:0,special:[10,21],atkValue:2,defValue:3},bluePriest:{name:"初级法师",hp:100,atk:120,def:0,money:3,experience:0,point:1,special:2},redPriest:{name:"高级法师",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},brownWizard:{name:"初级巫师",hp:100,atk:120,def:0,money:16,experience:0,point:0,special:15,value:100,range:2},redWizard:{name:"高级巫师",hp:1000,atk:1200,def:0,money:160,experience:0,point:0,special:15,value:200,zoneSquare:true},yellowGuard:{name:"初级卫兵",hp:100,atk:120,def:0,money:10,experience:0,point:0,special:0},blueGuard:{name:"中级卫兵",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redGuard:{name:"高级卫兵",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},swordsman:{name:"双手剑士",hp:100,atk:120,def:0,money:6,experience:0,point:0,special:[5,23]},soldier:{name:"冥战士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},yellowKnight:{name:"金骑士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redKnight:{name:"红骑士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},darkKnight:{name:"黑骑士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},blackKing:{name:"黑衣魔王",hp:1000,atk:500,def:0,money:1000,experience:1000,point:0,special:0,notBomb:true},yellowKing:{name:"黄衣魔王",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},greenKing:{name:"青衣武士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},blueKnight:{name:"蓝骑士",hp:100,atk:120,def:0,money:9,experience:0,point:0,special:8},goldSlime:{name:"黄头怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},poisonSkeleton:{name:"紫骷髅",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},poisonBat:{name:"紫蝙蝠",hp:100,atk:120,def:0,money:14,experience:0,point:0,special:13},steelRock:{name:"铁面人",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},skeletonPriest:{name:"骷髅法师",hp:100,atk:100,def:0,money:0,experience:0,point:0,special:18,value:20},skeletonKing:{name:"骷髅王",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},skeletonWizard:{name:"骷髅巫师",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redSkeletonCaption:{name:"骷髅武士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},badHero:{name:"迷失勇者",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},demon:{name:"魔神武士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},demonPriest:{name:"魔神法师",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},goldHornSlime:{name:"金角怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redKing:{name:"红衣魔王",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},whiteKing:{name:"白衣武士",hp:100,atk:120,def:0,money:17,experience:0,point:0,special:16},blackMagician:{name:"黑暗大法师",hp:100,atk:120,def:0,money:12,experience:0,point:0,special:11,value:1/3,add:true,notBomb:true},silverSlime:{name:"银头怪",hp:100,atk:120,def:0,money:15,experience:0,point:0,special:14},swordEmperor:{name:"剑圣",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},whiteHornSlime:{name:"尖角怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},badPrincess:{name:"痛苦魔女",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},badFairy:{name:"黑暗仙子",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},grayPriest:{name:"中级法师",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redSwordsman:{name:"剑王",hp:100,atk:120,def:0,money:7,experience:0,point:0,special:6,n:8},whiteGhost:{name:"水银战士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},poisonZombie:{name:"绿兽人",hp:100,atk:120,def:0,money:13,experience:0,point:0,special:12},magicDragon:{name:"魔龙",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},octopus:{name:"血影",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},darkFairy:{name:"仙子",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},greenKnight:{name:"强盾骑士",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},angel:{name:"天使",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},elemental:{name:"元素生物",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},steelGuard:{name:"铁守卫",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:18,value:20},evilBat:{name:"邪恶蝙蝠",hp:1000,atk:1,def:0,money:0,experience:0,point:0,special:[2,3]},};icons_4665ee12_3a1f_44a4_bea3_0fccba634dc1={hero:{down:{loc:0,stop:0,leftFoot:1,rightFoot:3},left:{loc:1,stop:0,leftFoot:1,rightFoot:3},right:{loc:2,stop:0,leftFoot:1,rightFoot:3},up:{loc:3,stop:0,leftFoot:1,rightFoot:3},height:33},terrains:{ground:0,grass:1,grass2:2,yellowWall:3,whiteWall:4,blueWall:5,snowGround:6,ground2:7,ground3:8,ground4:9,sand:10,ground5:11,yellowWall2:12,whiteWall2:13,blueWall2:14,blockWall:15,grayWall:16,white:17,ground6:18,soil:19,star:20,lava:21,ice:22,downFloor:23,upFloor:24,yellowDoor:25,blueDoor:26,redDoor:27,greenDoor:28,specialDoor:29,steelDoor:30,"blueShop-left":31,"blueShop-right":32,"pinkShop-left":33,"pinkShop-right":34,arrowUp:35,arrowDown:36,arrowLeft:37,arrowRight:38,light:39,darkLight:40,ski:41,flower:42,box:43,boxed:44,blood:45,blankSpace:0},animates:{star:0,lava:1,waterWall:2,yellowDoor:3,blueDoor:4,redDoor:5,greenDoor:6,specialDoor:7,blueWallDoor:8,yellowWallDoor:9,whiteWallDoor:10,steelDoor:11,lavaDoor:12,grayLavaDoor:13,starDoor:14,mockBlueWallDoor:15,mockYellowWallDoor:16,mockWhiteWallDoor:17,iceYellowWallDoor:18,starPortal:19,exclamation:20,portal:21,"switch":22,lavaNet:23,poisonNet:24,weakNet:25,curseNet:26,downPortal:27,leftPortal:28,rightPortal:29,upPortal:30,water:31},npcs:{man:0,woman:1,thief:2,fairy:3,magician:4,womanMagician:5,oldMan:6,child:7,wood:8,pinkShop:9,blueShop:10,princess:11,wlt:12,wt:13,wrt:14,wl:15,wc:16,wr:17,wlb:18,wrb:19,dlt:20,dt:21,drt:22,dl:23,dc:24,dr:25,dlb:26,drb:27},npc48:{npc0:0,npc1:1,npc2:2,npc3:3,npc4:4},enemys:{greenSlime:0,redSlime:1,blackSlime:2,slimelord:3,bat:4,bigBat:5,redBat:6,vampire:7,skeleton:8,skeletonSoilder:9,skeletonCaptain:10,ghostSkeleton:11,zombie:12,zombieKnight:13,rock:14,slimeMan:15,bluePriest:16,redPriest:17,brownWizard:18,redWizard:19,yellowGuard:20,blueGuard:21,redGuard:22,swordsman:23,soldier:24,yellowKnight:25,redKnight:26,darkKnight:27,blackKing:28,yellowKing:29,greenKing:30,blueKnight:31,goldSlime:32,poisonSkeleton:33,poisonBat:34,steelRock:35,skeletonPriest:36,skeletonKing:37,skeletonWizard:38,redSkeletonCaption:39,badHero:40,demon:41,demonPriest:42,goldHornSlime:43,redKing:44,whiteKing:45,blackMagician:46,silverSlime:47,swordEmperor:48,whiteHornSlime:49,badPrincess:50,badFairy:51,grayPriest:52,redSwordsman:53,whiteGhost:54,poisonZombie:55,magicDragon:56,octopus:57,darkFairy:58,greenKnight:59},enemy48:{angel:0,elemental:1,steelGuard:2,evilBat:3},items:{yellowKey:0,blueKey:1,redKey:2,greenKey:3,steelKey:4,bigKey:6,redJewel:16,blueJewel:17,greenJewel:18,yellowJewel:19,redPotion:20,bluePotion:21,greenPotion:22,yellowPotion:23,sword0:60,sword1:50,sword2:51,sword3:52,sword4:53,sword5:54,shield0:61,shield1:55,shield2:56,shield3:57,shield4:58,shield5:59,book:9,fly:12,pickaxe:45,icePickaxe:44,bomb:43,centerFly:13,upFly:15,downFly:14,coin:11,snow:41,cross:40,superPotion:29,earthquake:8,poisonWine:24,weakWine:25,curseWine:27,superWine:28,knife:42,moneyPocket:46,shoes:47,hammer:48,flashlight:62,record_white:66,record_orange:73,record_water:65,spoils_1:75,spoils_2:76,spoils_3:77},autotile:{autotile:0,autotile1:0,autotile2:0,autotile3:0}};maps_90f36752_8815_4be8_b32b_d7fad1d0542e={"1":{cls:"terrains",id:"yellowWall"},"2":{cls:"terrains",id:"whiteWall"},"3":{cls:"terrains",id:"blueWall"},"4":{cls:"animates",id:"star",noPass:true},"5":{cls:"animates",id:"lava",noPass:true},"6":{cls:"terrains",id:"ice"},"7":{cls:"terrains",id:"blueShop-left"},"8":{cls:"terrains",id:"blueShop-right"},"9":{cls:"terrains",id:"pinkShop-left"},"10":{cls:"terrains",id:"pinkShop-right"},"11":{cls:"animates",id:"lavaNet",noPass:false,trigger:"passNet"},"12":{cls:"animates",id:"poisonNet",noPass:false,trigger:"passNet"},"13":{cls:"animates",id:"weakNet",noPass:false,trigger:"passNet"},"14":{cls:"animates",id:"curseNet",noPass:false,trigger:"passNet"},"15":{cls:"animates",id:"water",noPass:true},"20":{cls:"autotile",id:"autotile",noPass:true},"21":{cls:"items",id:"yellowKey"},"22":{cls:"items",id:"blueKey"},"23":{cls:"items",id:"redKey"},"24":{cls:"items",id:"greenKey"},"25":{cls:"items",id:"steelKey"},"26":{cls:"items",id:"bigKey"},"27":{cls:"items",id:"redJewel"},"28":{cls:"items",id:"blueJewel"},"29":{cls:"items",id:"greenJewel"},"30":{cls:"items",id:"yellowJewel"},"31":{cls:"items",id:"redPotion"},"32":{cls:"items",id:"bluePotion"},"33":{cls:"items",id:"greenPotion"},"34":{cls:"items",id:"yellowPotion"},"35":{cls:"items",id:"sword1"},"36":{cls:"items",id:"shield1"},"37":{cls:"items",id:"sword2"},"38":{cls:"items",id:"shield2"},"39":{cls:"items",id:"sword3"},"40":{cls:"items",id:"shield3"},"41":{cls:"items",id:"sword4"},"42":{cls:"items",id:"shield4"},"43":{cls:"items",id:"sword5"},"44":{cls:"items",id:"shield5"},"45":{cls:"items",id:"book"},"46":{cls:"items",id:"fly"},"47":{cls:"items",id:"pickaxe"},"48":{cls:"items",id:"icePickaxe"},"49":{cls:"items",id:"bomb"},"50":{cls:"items",id:"centerFly"},"51":{cls:"items",id:"upFly"},"52":{cls:"items",id:"downFly"},"53":{cls:"items",id:"coin"},"54":{cls:"items",id:"snow"},"55":{cls:"items",id:"cross"},"56":{cls:"items",id:"superPotion"},"57":{cls:"items",id:"earthquake"},"58":{cls:"items",id:"poisonWine"},"59":{cls:"items",id:"weakWine"},"60":{cls:"items",id:"curseWine"},"61":{cls:"items",id:"superWine"},"62":{cls:"items",id:"knife"},"63":{cls:"items",id:"moneyPocket"},"64":{cls:"items",id:"shoes"},"65":{cls:"items",id:"hammer"},"81":{cls:"terrains",id:"yellowDoor",trigger:"openDoor"},"82":{cls:"terrains",id:"blueDoor",trigger:"openDoor"},"83":{cls:"terrains",id:"redDoor",trigger:"openDoor"},"84":{cls:"terrains",id:"greenDoor",trigger:"openDoor"},"85":{cls:"terrains",id:"specialDoor",trigger:"openDoor"},"86":{cls:"terrains",id:"steelDoor",trigger:"openDoor"},"87":{cls:"terrains",id:"upFloor",noPass:false},"88":{cls:"terrains",id:"downFloor",noPass:false},"89":{cls:"animates",id:"portal",noPass:false},"90":{cls:"animates",id:"starPortal",noPass:false},"91":{cls:"animates",id:"upPortal",noPass:false},"92":{cls:"animates",id:"leftPortal",noPass:false},"93":{cls:"animates",id:"downPortal",noPass:false},"94":{cls:"animates",id:"rightPortal",noPass:false},"121":{cls:"npcs",id:"man"},"122":{cls:"npcs",id:"woman"},"123":{cls:"npcs",id:"thief"},"124":{cls:"npcs",id:"fairy"},"125":{cls:"npcs",id:"magician"},"126":{cls:"npcs",id:"womanMagician"},"127":{cls:"npcs",id:"oldMan"},"128":{cls:"npcs",id:"child"},"129":{cls:"npcs",id:"wood"},"130":{cls:"npcs",id:"pinkShop"},"131":{cls:"npcs",id:"blueShop"},"132":{cls:"npcs",id:"princess"},"133":{cls:"npc48",id:"npc0"},"134":{cls:"npc48",id:"npc1"},"135":{cls:"npc48",id:"npc2"},"136":{cls:"npc48",id:"npc3"},"137":{cls:"npc48",id:"npc4"},"151":{cls:"autotile",id:"autotile1",noPass:true},"152":{cls:"autotile",id:"autotile2",noPass:true},"153":{cls:"autotile",id:"autotile3",noPass:true},"161":{cls:"terrains",id:"arrowUp",noPass:false},"162":{cls:"terrains",id:"arrowDown",noPass:false},"163":{cls:"terrains",id:"arrowLeft",noPass:false},"164":{cls:"terrains",id:"arrowRight",noPass:false},"165":{cls:"terrains",id:"light",trigger:"changeLight",noPass:false},"166":{cls:"terrains",id:"darkLight",noPass:true},"167":{cls:"terrains",id:"ski",trigger:"ski",noPass:false},"168":{cls:"terrains",id:"flower",noPass:false},"169":{cls:"terrains",id:"box",trigger:"pushBox",noPass:true},"170":{cls:"terrains",id:"boxed",trigger:"pushBox",noPass:true},"181":{cls:"npcs",id:"wlt"},"182":{cls:"npcs",id:"wt"},"183":{cls:"npcs",id:"wrt"},"184":{cls:"npcs",id:"wl"},"185":{cls:"npcs",id:"wc"},"186":{cls:"npcs",id:"wr"},"187":{cls:"npcs",id:"wlb"},"188":{cls:"npcs",id:"wrb"},"189":{cls:"npcs",id:"dlt"},"190":{cls:"npcs",id:"dt"},"191":{cls:"npcs",id:"drt"},"192":{cls:"npcs",id:"dl"},"193":{cls:"npcs",id:"dc"},"194":{cls:"npcs",id:"dr"},"195":{cls:"npcs",id:"dlb"},"196":{cls:"npcs",id:"drb"},"201":{cls:"enemys",id:"greenSlime"},"202":{cls:"enemys",id:"redSlime"},"203":{cls:"enemys",id:"blackSlime"},"204":{cls:"enemys",id:"slimelord"},"205":{cls:"enemys",id:"bat"},"206":{cls:"enemys",id:"bigBat"},"207":{cls:"enemys",id:"redBat"},"208":{cls:"enemys",id:"vampire"},"209":{cls:"enemys",id:"skeleton"},"210":{cls:"enemys",id:"skeletonSoilder"},"211":{cls:"enemys",id:"skeletonCaptain"},"212":{cls:"enemys",id:"ghostSkeleton"},"213":{cls:"enemys",id:"zombie"},"214":{cls:"enemys",id:"zombieKnight"},"215":{cls:"enemys",id:"rock"},"216":{cls:"enemys",id:"slimeMan"},"217":{cls:"enemys",id:"bluePriest"},"218":{cls:"enemys",id:"redPriest"},"219":{cls:"enemys",id:"brownWizard"},"220":{cls:"enemys",id:"redWizard"},"221":{cls:"enemys",id:"yellowGuard"},"222":{cls:"enemys",id:"blueGuard"},"223":{cls:"enemys",id:"redGuard"},"224":{cls:"enemys",id:"swordsman"},"225":{cls:"enemys",id:"soldier"},"226":{cls:"enemys",id:"yellowKnight"},"227":{cls:"enemys",id:"redKnight"},"228":{cls:"enemys",id:"darkKnight"},"229":{cls:"enemys",id:"blackKing"},"230":{cls:"enemys",id:"yellowKing"},"231":{cls:"enemys",id:"greenKing"},"232":{cls:"enemys",id:"blueKnight"},"233":{cls:"enemys",id:"goldSlime"},"234":{cls:"enemys",id:"poisonSkeleton"},"235":{cls:"enemys",id:"poisonBat"},"236":{cls:"enemys",id:"steelRock"},"237":{cls:"enemys",id:"skeletonPriest"},"238":{cls:"enemys",id:"skeletonKing"},"239":{cls:"enemys",id:"skeletonWizard"},"240":{cls:"enemys",id:"redSkeletonCaption"},"241":{cls:"enemys",id:"badHero"},"242":{cls:"enemys",id:"demon"},"243":{cls:"enemys",id:"demonPriest"},"244":{cls:"enemys",id:"goldHornSlime"},"245":{cls:"enemys",id:"redKing"},"246":{cls:"enemys",id:"whiteKing"},"247":{cls:"enemys",id:"blackMagician"},"248":{cls:"enemys",id:"silverSlime"},"249":{cls:"enemys",id:"swordEmperor"},"250":{cls:"enemys",id:"whiteHornSlime"},"251":{cls:"enemys",id:"badPrincess"},"252":{cls:"enemys",id:"badFairy"},"253":{cls:"enemys",id:"grayPriest"},"254":{cls:"enemys",id:"redSwordsman"},"255":{cls:"enemys",id:"whiteGhost"},"256":{cls:"enemys",id:"poisonZombie"},"257":{cls:"enemys",id:"magicDragon"},"258":{cls:"enemys",id:"octopus"},"259":{cls:"enemys",id:"darkFairy"},"260":{cls:"enemys",id:"greenKnight"},"261":{cls:"enemy48",id:"angel"},"262":{cls:"enemy48",id:"elemental"},"263":{cls:"enemy48",id:"steelGuard"},"264":{cls:"enemy48",id:"evilBat"},"898":{cls:"items",id:"spoils_3"},"899":{cls:"items",id:"spoils_2"},"900":{cls:"items",id:"spoils_1"},"994":{cls:"items",id:"record_water"},"995":{cls:"items",id:"record_orange"},"996":{cls:"items",id:"record_white"},"997":{cls:"terrains",id:"blankSpace",noPass:false,trigger:null},"998":{cls:"items",id:"flashlight"},"999":{cls:"terrains",id:"blood",noPass:false,trigger:null}};items_296f5d02_12fd_4166_a7c1_b5e830c9ee3a={items:{yellowKey:{cls:"keys",name:"黄钥匙"},blueKey:{cls:"keys",name:"蓝钥匙"},redKey:{cls:"keys",name:"红钥匙"},redJewel:{cls:"items",name:"红宝石"},blueJewel:{cls:"items",name:"蓝宝石"},greenJewel:{cls:"items",name:"绿宝石"},yellowJewel:{cls:"items",name:"黄宝石"},redPotion:{cls:"items",name:"红血瓶"},bluePotion:{cls:"items",name:"蓝血瓶"},yellowPotion:{cls:"items",name:"黄血瓶"},greenPotion:{cls:"items",name:"绿血瓶"},sword1:{cls:"items",name:"铁剑",isEquipment:true},sword2:{cls:"items",name:"银剑",isEquipment:true},sword3:{cls:"items",name:"骑士剑",isEquipment:true},sword4:{cls:"items",name:"圣剑",isEquipment:true},sword5:{cls:"items",name:"神圣剑",isEquipment:true},shield1:{cls:"items",name:"铁盾",isEquipment:true},shield2:{cls:"items",name:"银盾",isEquipment:true},shield3:{cls:"items",name:"骑士盾",isEquipment:true},shield4:{cls:"items",name:"圣盾",isEquipment:true},shield5:{cls:"items",name:"神圣盾",isEquipment:true},superPotion:{cls:"items",name:"圣水"},moneyPocket:{cls:"items",name:"金钱袋"},sword0:{cls:"constants",name:"折断的剑",text:"没有任何作用的剑，相当于脱掉装备。"},shield0:{cls:"constants",name:"残破的盾",text:"没有任何作用的盾，相当于脱掉装备。"},book:{cls:"constants",name:"怪物手册",text:"可以查看当前楼层各怪物属性"},fly:{cls:"constants",name:"楼层传送器",text:"可以自由往来去过的楼层"},coin:{cls:"constants",name:"幸运金币",text:"持有时打败怪物可得双倍金币"},snow:{cls:"constants",name:"冰冻徽章",text:"可以将四周的熔岩变成平地"},cross:{cls:"constants",name:"十字架",text:"持有后无视怪物的无敌属性"},knife:{cls:"constants",name:"屠龙匕首",text:"该道具尚未被定义"},shoes:{cls:"constants",name:"绿鞋",text:"持有时无视负面地形"},bigKey:{cls:"tools",name:"大黄门钥匙",text:"可以开启当前层所有黄门"},greenKey:{cls:"tools",name:"绿钥匙",text:"可以打开一扇绿门"},steelKey:{cls:"tools",name:"铁门钥匙",text:"可以打开一扇铁门"},pickaxe:{cls:"tools",name:"破墙镐",text:"可以破坏勇士面前的墙"},icePickaxe:{cls:"tools",name:"破冰镐",text:"可以破坏勇士面前的一堵冰墙"},bomb:{cls:"tools",name:"炸弹",text:"可以炸掉勇士面前的怪物"},centerFly:{cls:"tools",name:"中心对称飞行器",text:"可以飞向当前楼层中心对称的位置"},upFly:{cls:"tools",name:"上楼器",text:"可以飞往楼上的相同位置"},downFly:{cls:"tools",name:"下楼器",text:"可以飞往楼下的相同位置"},earthquake:{cls:"tools",name:"地震卷轴",text:"可以破坏当前层的所有墙"},poisonWine:{cls:"tools",name:"解毒药水",text:"可以解除中毒状态"},weakWine:{cls:"tools",name:"解衰药水",text:"可以解除衰弱状态"},curseWine:{cls:"tools",name:"解咒药水",text:"可以解除诅咒状态"},superWine:{cls:"tools",name:"万能药水",text:"可以解除所有不良状态"},hammer:{cls:"tools",name:"圣锤",text:"可以炸掉勇士面前的怪物"},flashlight:{cls:"constants",name:"手电筒",text:"照亮一片区域"},record_white:{cls:"constants",name:"唱片-带你前往",text:"于500层获取，相信自己，梦想定会实现"},record_orange:{cls:"constants",name:"唱片-风居住的街道",text:"于800层获取，人生坎坷，听一首忧伤的轻音乐吧"},record_water:{cls:"constants",name:"唱片-105度的你",text:"于200层获取，致初心的你"},spoils_1:{cls:"constants",name:"绿宝石",text:"你已经走了1000层了，不错哦，继续坚持下去吧。"},spoils_2:{cls:"constants",name:"红宝石",text:"wow,你已经走了2000层了，真是太了不起了！"},spoils_3:{cls:"constants",name:"钻石",text:"你已经走了5000层了，你真是太强大了，你已经超神了！"}},itemEffect:{redJewel:"core.status.hero.atk += core.values.redJewel * ratio",blueJewel:"core.status.hero.def += core.values.blueJewel * ratio",greenJewel:"core.status.hero.mdef += core.values.greenJewel * ratio",yellowJewel:"core.status.hero.hp+=1000;core.status.hero.atk+=6;core.status.hero.def+=6;core.status.hero.mdef+=10;",redPotion:"core.status.hero.hp += core.values.redPotion * ratio",bluePotion:"core.status.hero.hp += core.values.bluePotion * ratio",yellowPotion:"core.status.hero.hp += core.values.yellowPotion * ratio",greenPotion:"core.status.hero.hp += core.values.greenPotion * ratio",sword1:"core.status.hero.atk += core.values.sword1",sword2:"core.status.hero.atk += core.values.sword2",sword3:"core.status.hero.atk += core.values.sword3",sword4:"core.status.hero.atk += core.values.sword4",sword5:"core.status.hero.atk += core.values.sword5",shield1:"core.status.hero.def += core.values.shield1",shield2:"core.status.hero.def += core.values.shield2",shield3:"core.status.hero.def += core.values.shield3",shield4:"core.status.hero.def += core.values.shield4",shield5:"core.status.hero.def += core.values.shield5",bigKey:"core.status.hero.items.keys.yellowKey++;core.status.hero.items.keys.blueKey++;core.status.hero.items.keys.redKey++;",superPotion:"core.status.hero.hp *= 2",moneyPocket:"core.status.hero.money += core.values.moneyPocket"},itemEffectTip:{redJewel:"'，攻击+'+core.values.redJewel * ratio",blueJewel:"'，防御+'+core.values.blueJewel * ratio",greenJewel:"'，魔防+'+core.values.greenJewel * ratio",yellowJewel:"'，全属性提升'",redPotion:"'，生命+'+core.values.redPotion * ratio",bluePotion:"'，生命+'+core.values.bluePotion * ratio",yellowPotion:"'，生命+'+core.values.yellowPotion * ratio",greenPotion:"'，生命+'+core.values.greenPotion * ratio",sword1:"'，攻击+'+core.values.sword1",sword2:"'，攻击+'+core.values.sword2",sword3:"'，攻击+'+core.values.sword3",sword4:"'，攻击+'+core.values.sword4",sword5:"'，攻击+'+core.values.sword5",shield1:"'，防御+'+core.values.shield1",shield2:"'，防御+'+core.values.shield2",shield3:"'，防御+'+core.values.shield3",shield4:"'，防御+'+core.values.shield4",shield5:"'，防御+'+core.values.shield5",bigKey:"'，全钥匙+1'",superPotion:"'，生命值翻倍'",moneyPocket:"'，金币+'+core.values.moneyPocket"},useItemEffect:{book:"core.ui.drawBook(0);",fly:"core.ui.drawFly(core.status.hero.flyRange.indexOf(core.status.floorId));",earthquake:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n});",pickaxe:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n});",icePickaxe:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero(), 'stop');\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n});",snow:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n});",bigKey:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n});",bomb:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n    core.events.afterUseBomb();\n});",hammer:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n    core.drawHero();\n    core.updateFg();\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n    core.events.afterUseBomb();\n});",centerFly:"core.clearMap('hero', 0, 0, 416, 416);\ncore.setHeroLoc('x', core.status.event.data.x);\ncore.setHeroLoc('y', core.status.event.data.y);\ncore.drawHero();\ncore.drawTip(core.material.items[itemId].name + '使用成功');",upFly:"var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n    core.replay();\n});",downFly:"var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n    core.drawTip(core.material.items[itemId].name + '使用成功');\n    core.replay();\n});",poisonWine:"core.setFlag('poison', false);",weakWine:"core.setFlag('weak', false);\ncore.status.hero.atk += core.values.weakValue;\ncore.status.hero.def += core.values.weakValue;",curseWine:"core.setFlag('curse', false);",superWine:"core.setFlag('poison', false);\nif (core.hasFlag('weak')) {\n    core.setFlag('weak', false);\n    core.status.hero.atk += core.values.weakValue;\n    core.status.hero.def += core.values.weakValue;\n}\ncore.setFlag('curse', false);",sword0:"core.plugin.useEquipment(itemId)",sword1:"core.plugin.useEquipment(itemId)",sword2:"core.plugin.useEquipment(itemId)",sword3:"core.plugin.useEquipment(itemId)",sword4:"core.plugin.useEquipment(itemId)",sword5:"core.plugin.useEquipment(itemId)",shield0:"core.plugin.useEquipment(itemId)",shield1:"core.plugin.useEquipment(itemId)",shield2:"core.plugin.useEquipment(itemId)",shield3:"core.plugin.useEquipment(itemId)",shield4:"core.plugin.useEquipment(itemId)",shield5:"core.plugin.useEquipment(itemId)",flashlight:'core.setFlag("flashlight", !core.getFlag("flashlight", false));\n\ncore.canvas.weather.clearRect(0, 0, 416, 416);\nif (!core.getFlag("flashlight", false)) {\n\tcore.canvas.weather.globalAlpha = 0.8;\n   core.canvas.weather.fillStyle = "black";\n   core.canvas.weather.fillRect(0,0,416,416);\n} else {\n\tcore.canvas.weather.clearRect(0, 0, 416, 416);\n\tcore.canvas.weather.globalAlpha = 0.8;\n   core.canvas.weather.drawImage(core.material.images.images["light.png"], core.getHeroLoc(\'x\') * 32 - 400, core.getHeroLoc(\'y\') * 32 - 400);\n}\ncore.playSound("sou_switch.ogg");',record_water:"core.playRecord(0);",record_white:"core.playRecord(1);",record_orange:"core.playRecord(2);"},canUseItemEffect:{book:"true",fly:"core.status.hero.flyRange.indexOf(core.status.floorId)>=0",pickaxe:"var able=false;\nvar ids = [];\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) &&\n        (block.event.id == 'yellowWall' || block.event.id=='whiteWall' || block.event.id=='blueWall')) // 能破哪些墙\n    {\n        // 四个方向\n        if (core.flags.pickaxeFourDirections) {\n            if (Math.abs(block.x-core.status.hero.loc.x)+Math.abs(block.y-core.status.hero.loc.y)<=1) {\n                ids.push(i);\n            }\n        }\n        else {\n            if (block.x == core.nextX() && block.y == core.nextY()) {\n                ids.push(i);\n            }\n        }\n    }\n}\nif (ids.length>0) {\n    core.status.event.data = ids;\n    able=true;\n}\nable",icePickaxe:"var able=false;\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && block.x==core.nextX() && block.y==core.nextY() && block.event.id=='ice') {\n        core.status.event.data = [i];\n        able=true;\n    }\n}\nable",bomb:"var able=false;\nvar ids = [];\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && block.event.cls.indexOf('enemy')==0 && Math.abs(block.x-core.status.hero.loc.x)+Math.abs(block.y-core.status.hero.loc.y)<=1) {\n        var enemy = core.material.enemys[block.event.id];\n        if ((core.isset(enemy.bomb) && !enemy.bomb) || (core.isset(enemy.notBomb) && enemy.notBomb)) continue;\n        if (core.flags.bombFourDirections || (block.x==core.nextX() && block.y==core.nextY()))\n            ids.push(i);\n    }\n}\nif (ids.length>0) {\n    core.status.event.data = ids;\n    able=true;\n}\nable",hammer:"var able=false;\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && block.event.cls.indexOf('enemy')==0 && block.x==core.nextX() && block.y==core.nextY()) {\n        var enemy = core.material.enemys[block.event.id];\n        ((core.isset(enemy.bomb) && !enemy.bomb) || (core.isset(enemy.notBomb) && enemy.notBomb)) continue;\n        core.status.event.data = [i];\n        able=true;\n    }\n}\nable",earthquake:"var able=false;\nvar ids = [];\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && (block.event.id == 'yellowWall' || block.event.id == 'blueWall' || block.event.id == 'whiteWall')) // 能炸的墙壁\n        ids.push(i);\n}\nif (ids.length>0) {\n    core.status.event.data = ids;\n    able=true;\n}\nable",centerFly:"var able=false;\nvar toX = 12 - core.getHeroLoc('x'), toY = 12-core.getHeroLoc('y');\nvar block = core.getBlock(toX, toY);\nif (block==null) {\n    core.status.event.data = {'x': toX, 'y': toY};\n    able = true;\n}\nable",upFly:"var able=false;\nvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\nif (index<core.floorIds.length-1) {\n\tvar toId = core.floorIds[index+1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\tif (core.getBlock(toX, toY, toId)==null) {\n\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\table=true;\n\t}\n}\nable",downFly:"var able=false;\nvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\nif (index>0) {\n\tvar toId = core.floorIds[index-1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\tif (core.getBlock(toX, toY, toId)==null) {\n\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\table=true;\n\t}\n}\nable",snow:"var able=false;\nvar ids = [];\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && block.event.id == 'lava' && Math.abs(block.x-core.status.hero.loc.x)+Math.abs(block.y-core.status.hero.loc.y)<=1) {\n        ids.push(i);\n    }\n}\nif (ids.length>0) {\n    core.status.event.data = ids;\n    able=true;\n}\nable",bigKey:"var able=false;\nvar ids = [];\nfor (var i in core.status.thisMap.blocks) {\n    var block = core.status.thisMap.blocks[i];\n    if (core.isset(block.event) && !(core.isset(block.enable) && !block.enable) && block.event.id == 'yellowDoor') {\n        ids.push(i);\n    }\n}\nif (ids.length>0) {\n    core.status.event.data = ids;\n    able=true;\n}\nable",poisonWine:"core.hasFlag('poison')",weakWine:"core.hasFlag('weak')",curseWine:"core.hasFlag('curse')",superWine:"core.hasFlag('poison') || core.hasFlag('weak') || core.hasFlag('curse')",sword0:"true",sword1:"true",sword2:"true",sword3:"true",sword4:"true",sword5:"true",shield0:"true",shield1:"true",shield2:"true",shield3:"true",shield4:"true",shiled5:"true",flashlight:"true",record_white:true,record_orange:true,record_water:true}};functions_d6ad677b_427a_4623_b50f_a445a3b0ef8a={events:{initGame:function(){if(core.flags.bigKeyIsBox){core.material.items.bigKey={cls:"items",name:"钥匙盒"}}if(core.flags.pickaxeFourDirections){core.material.items.pickaxe.text="可以破坏勇士四周的墙"}if(core.flags.bombFourDirections){core.material.items.bomb.text="可以炸掉勇士四周的怪物"}if(core.flags.equipment){core.material.items.sword1={cls:"constants",name:"铁剑",text:"一把很普通的铁剑"};core.material.items.sword2={cls:"constants",name:"银剑",text:"一把很普通的银剑"};core.material.items.sword3={cls:"constants",name:"骑士剑",text:"一把很普通的骑士剑"};core.material.items.sword4={cls:"constants",name:"圣剑",text:"一把很普通的圣剑"};core.material.items.sword5={cls:"constants",name:"神圣剑",text:"一把很普通的神圣剑"};core.material.items.shield1={cls:"constants",name:"铁盾",text:"一个很普通的铁盾"};core.material.items.shield2={cls:"constants",name:"银盾",text:"一个很普通的银盾"};core.material.items.shield3={cls:"constants",name:"骑士盾",text:"一个很普通的骑士盾"};core.material.items.shield4={cls:"constants",name:"圣盾",text:"一个很普通的圣盾"};core.material.items.shield5={cls:"constants",name:"神圣盾",text:"一个很普通的神圣盾"}}},setInitData:function(a){if(a=="Easy"){core.setFlag("hard",1)}if(a=="Normal"){core.setFlag("hard",2)}if(a=="Hard"){core.setFlag("hard",3)}if(a=="Hell"){core.setFlag("hard",4)}core.events.afterLoadData()},win:function(a){core.ui.closePanel();var b=core.status.replay.replaying;core.stopReplay();core.waitHeroToStop(function(){core.removeGlobalAnimate(0,0,true);core.clearMap("all");core.drawText(["\t["+(a||"恭喜通关")+"]你的分数是${status:hp}。"],function(){core.events.gameOver(a||"",b)})})},lose:function(a){core.ui.closePanel();var b=core.status.replay.replaying;core.stopReplay();core.waitHeroToStop(function(){core.drawText(["\t["+(a||"结局1")+"]你死了。\n如题。"],function(){core.events.gameOver(null,b)})})},afterChangeFloor:function(a){if(!core.hasFlag("visited_"+a)){core.insertAction(core.floors[a].firstArrive);core.setFlag("visited_"+a,true)}core.autosave(true);if(Math.random()*4>>0==2){core.status.eventSteps=1+(Math.random()*23>>0)}if(core.getFlag("stairNum","0")<=-51&&(Math.random()*13>>0)==7){core.status.waitInput=true}},addPoint:function(a){var b=a.point;if(!core.flags.enableAddPoint||!core.isset(b)||b<=0){return[]}return[{type:"choices",choices:[{text:"攻击+"+(1*b),action:[{type:"setValue",name:"status:atk",value:"status:atk+"+(1*b)}]},{text:"防御+"+(2*b),action:[{type:"setValue",name:"status:def",value:"status:def+"+(2*b)}]},{text:"生命+"+(200*b),action:[{type:"setValue",name:"status:hp",value:"status:hp+"+(200*b)}]},]}]},afterBattle:function(d,l,m,a){var c=core.material.enemys[d];var b=core.enemys.getDamage(d);if(b==null){b=core.status.hero.hp+1}core.status.hero.hp-=b;if(core.status.hero.hp<=0){core.status.hero.hp=0;core.updateStatusBar();core.events.lose("战斗失败");return}var h=c.money;if(core.hasItem("coin")){h*=2}if(core.hasFlag("curse")){h=0}core.status.hero.money+=h;var f=c.experience;if(core.hasFlag("curse")){f=0}core.status.hero.experience+=f;var g="打败 "+c.name;if(core.flags.enableMoney){g+="，金币+"+h}if(core.flags.enableExperience){g+="，经验+"+f}core.drawTip(g);if(core.isset(l)&&core.isset(m)){core.removeBlock(l,m);core.canvas.event.clearRect(32*l,32*m,32,32)}var j=c.special;if(core.enemys.hasSpecial(j,12)&&!core.hasFlag("poison")){core.setFlag("poison",true)}if(core.enemys.hasSpecial(j,13)&&!core.hasFlag("weak")){core.setFlag("weak",true);core.status.hero.atk-=core.values.weakValue;core.status.hero.def-=core.values.weakValue}if(core.enemys.hasSpecial(j,14)&&!core.hasFlag("curse")){core.setFlag("curse",true)}if(core.flags.hatredDecrease&&core.enemys.hasSpecial(j,17)){core.setFlag("hatred",parseInt(core.getFlag("hatred",0)/2))}if(core.enemys.hasSpecial(j,19)){core.status.hero.hp=1}if(core.enemys.hasSpecial(j,21)){core.status.hero.atk-=(c.atkValue||0);core.status.hero.def-=(c.defValue||0);if(core.status.hero.atk<0){core.status.hero.atk=0}if(core.status.hero.def<0){core.status.hero.def=0}}core.setFlag("hatred",core.getFlag("hatred",0)+core.values.hatred);core.updateStatusBar();var k=[];if(!core.enemys.hasSpecial(j,18)&&core.isset(l)&&core.isset(m)){var e=core.floors[core.status.floorId].afterBattle[l+","+m];if(core.isset(e)){core.unshift(k,e)}}var i=core.material.enemys[d].point;if(core.isset(i)&&i>0){core.unshift(k,core.events.addPoint(core.material.enemys[d]))}if(k.length>0){core.events.insertAction(k,l,m)}if(core.status.event.id==null){core.continueAutomaticRoute()}else{core.clearContinueAutomaticRoute()}if(core.isset(a)){a()}},afterOpenDoor:function(b,e,f,a){var d=[];if(core.isset(e)&&core.isset(f)){var c=core.floors[core.status.floorId].afterOpenDoor[e+","+f];if(core.isset(c)){core.unshift(d,c)}}if(d.length>0){core.events.insertAction(d,e,f)}if(core.status.event.id==null){core.continueAutomaticRoute()}else{core.clearContinueAutomaticRoute()}if(core.isset(a)){a()}},afterChangeLight:function(a,b){},afterPushBox:function(){var a=function(){for(var c=0;c<core.status.thisMap.blocks.length;c++){var b=core.status.thisMap.blocks[c];if(core.isset(b.event)&&b.event.id=="box"){return false}}return true};if(a()){}},afterUseBomb:function(){},beforeSaveData:function(a){},afterLoadData:function(a){if(!core.getFlag("flashlight",false)){core.canvas.weather.globalAlpha=0.8;core.canvas.weather.fillStyle="black";core.canvas.weather.fillRect(0,0,416,416)}}},ui:{drawAbout:function(){if(!core.isPlaying()){core.status.event={id:null,data:null};core.dom.startPanel.style.display="none"}core.lockControl();core.status.event.id="about";core.clearMap("ui",0,0,416,416);var b=48,e=36,c=416-2*b,a=416-2*e;core.setAlpha("ui",0.85);core.fillRect("ui",b,e,c,a,"#000000");core.setAlpha("ui",1);core.strokeRect("ui",b-1,e-1,c+1,a+1,"#FFFFFF",2);var d=b+24;core.canvas.ui.textAlign="left";core.fillText("ui","HTML5 魔塔样板",d,e+35,"#FFD700","bold 22px Verdana");core.fillText("ui","版本： "+core.firstData.version,d,e+80,"#FFFFFF","bold 17px Verdana");core.fillText("ui","作者： 艾之葵",d,e+112);core.fillText("ui","HTML5魔塔交流群：539113091",d,e+112+32)}},plugins:{plugin:function(){console.log("插件编写测试");this.test=function(){console.log("插件函数执行测试")};this.useEquipment=function(a){if(a.indexOf("sword")==0){var b=core.getFlag("sword","sword0");if(typeof core.values[b]=="number"){core.status.hero.atk-=core.values[b]}else{core.status.hero.atk-=core.values[b].atk||0;core.status.hero.def-=core.values[b].def||0;core.status.hero.mdef-=core.values[b].mdef||0}if(typeof core.values[a]=="number"){core.status.hero.atk+=core.values[a]}else{core.status.hero.atk+=core.values[a].atk||0;core.status.hero.def+=core.values[a].def||0;core.status.hero.mdef+=core.values[a].mdef||0}core.setItem(b,1);core.setItem(a,0);core.setFlag("sword",a);core.drawTip("已装备"+core.material.items[a].name)}if(a.indexOf("shield")==0){var b=core.getFlag("shield","shield0");if(typeof core.values[b]=="number"){core.status.hero.def-=core.values[b]}else{core.status.hero.atk-=core.values[b].atk||0;core.status.hero.def-=core.values[b].def||0;core.status.hero.mdef-=core.values[b].mdef||0}if(typeof core.values[a]=="number"){core.status.hero.def+=core.values[a]}else{core.status.hero.atk+=core.values[a].atk||0;core.status.hero.def+=core.values[a].def||0;core.status.hero.mdef+=core.values[a].mdef||0}core.setItem(b,1);core.setItem(a,0);core.setFlag("shield",a);core.drawTip("已装备"+core.material.items[a].name)}};Array.prototype.shuffle=function(){var a=this;var c=a.length,d,b;while(c){b=Math.floor(Math.random()*c--);d=a[c];a[c]=a[b];a[b]=d}return a};core.isayArray=["黄之华，你个村支书，你以为我怕你啊，你官大挺得瑟的啊？你要是再不识抬举，三天之内我就揍你！操你妈的！你给我记住了，如果你再装逼，当场给你撕碎，就像手撕鬼子一样，然后给你扔粪坑里！","李昱梅你个臭婊子，臭母狗！你个臭骚逼，你看你那个吃屎的逼样，你配当什么老师？赶紧给我滚去掏粪去！别让我看见你，不然我一脚给你踢狗逼里去！真想活剐了你！","这个破村子，住的都是些刁民！都是些渣渣，窝囊废！拿个刀怎么了，还你妈派这些臭城管给你们大爷关精神病院去！要有机会，统统的给你们砍死！一个个都傻逼一样的。","李桂英，你以为给点破钱就了不起啊？不是你把我带到汉中，我能受这么多苦？我说什么你都不听，你最好别再来找我麻烦，不然一棒子削死你，我日你死死妈的！","人生就像走楼梯，不断地往前走，没等你走到尽头，你就老死了。有很多时候我在想，往前走的目的是什么，为什么要走？就像我现在这样。难道仅仅是为了抓一个犯人吗？也许这就是无解的人生。","你看着血红的场景，似梦非梦，仿佛永远也走不到尽头一样。可我已经没有退路了，我必须不回头的走下去，直到海枯石烂，直到天荒地老，只要走不死，就往死里走！就算走到地狱，我心中的信念也不会磨灭。","你说人死后会怎样？转世？去到另一个地方？还是化为灰烬？无论如何，我还是认为会像光碟反复播放一样，无限的循环着，就像我现在，经历着重复的动作，走着重复的楼梯。就这样无尽的循环着。或许，只是为了拯救虚无，虚无和轮回，要是你，你会选择哪一个呢？","论姓氏，我也是有着偏见的，我讨厌姓张的男人，也讨厌姓李的女人，虽然这不是绝对的。对于姓杨的、姓黄的、姓何的、姓冯的我也不同程度的讨厌着。因为，他们的的确确的对我造成了无法忘却的伤害，我知道这样不对，但我没有办法。","四大魔鬼是谁？臭气缝：一个永远不懂事的破娃，就知道和我对着干，他取代了我的地位。张镶天：臭气缝的哥哥，卷走过我二十块钱。经常给我造谣生事、侮辱我，十分该死。李昱梅：一个教日语的慰安妇，张镶天的母亲，歧视我，让我父亲打我，见到她非得整死她。还有一个是罪该万死的日式恐怖游戏作者，李昱梅的丈夫，他的作品让我有了严重的心理阴影，至今天天能想起。"];core.isayArrayAlready=[];this.dialogue=function(){if(core.isayArray.length<=0){core.insertAction("没有文本");return}if(core.isayArrayAlready.length<=0){for(var a=0;a<core.isayArray.length;a++){core.isayArrayAlready.push(a)}core.isayArrayAlready=core.isayArrayAlready.shuffle()}core.insertAction(core.isayArray[core.isayArrayAlready.pop()])}}}};